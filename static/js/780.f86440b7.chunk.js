"use strict";(self.webpackChunkmy_project_1=self.webpackChunkmy_project_1||[]).push([[780],{4780:function(e,t,s){s.r(t),s.d(t,{default:function(){return V},withNavigate:function(){return L}});var n=s(1413),r=s(5671),i=s(3144),o=s(136),u=s(516),a=s(2791),l=s(8687),c=s(6070),d=s(2982),h=s(6139),f=s(704),p=s(5304),j=s(2747),x="MyPosts_postsBlock__erwYW",v="MyPosts_posts__ehxlw",m={item:"Post_item__Fzr4t"},b=s(184),g=function(e){return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:m.posts,children:[(0,b.jsxs)("div",{className:m.item,children:[(0,b.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Anonymous.svg/1481px-Anonymous.svg.png"}),e.message]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{children:"like"}),e.likesCount]})]})})},P=a.memo((function(e){var t=(0,d.Z)(e.posts).reverse().map((function(e){return(0,b.jsx)(g,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,b.jsxs)("div",{className:x,children:[(0,b.jsx)("h3",{children:"My posts"}),(0,b.jsx)("div",{children:(0,b.jsx)(S,{onSubmit:function(t){e.addPost(t.newPostText)}})}),(0,b.jsx)("div",{className:v,children:t})]})})),k=(0,p.D)(10),S=(0,f.Z)({form:"ProfileAddPostForm"})((function(e){return(0,b.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,b.jsx)("div",{children:(0,b.jsx)(h.Z,{component:j.gx,name:"newPostText",validate:[p.C,k],placeholder:"post something"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("button",{children:"Add post"}),(0,b.jsx)("button",{children:"Delete"})]})]})})),y=P,Z=(0,l.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e((0,c.Wl)(t))}}}))(y),_=s(885),A=s(5079),w="ProfileInfo_descriptionBlock__zuBLA",I="ProfileInfo_mainPhoto__qjayM",C="ProfileInfo_contact__pCTAD",M=function(e){var t=(0,a.useState)(!1),s=(0,_.Z)(t,2),n=s[0],r=s[1],i=(0,a.useState)(e.status),o=(0,_.Z)(i,2),u=o[0],l=o[1];(0,a.useEffect)((function(){l(e.status)}),[e.status]);return(0,b.jsxs)("div",{children:[!n&&(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Status:"})," ",(0,b.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"----"})]}),n&&(0,b.jsx)("div",{children:(0,b.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(u)},value:u})})]})},N=s(1051),F=s(820),T=(0,f.Z)({form:"edit-profile",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var t=e.handleSubmit,s=e.profile,n=e.error;return(0,b.jsxs)("form",{onSubmit:t,children:[(0,b.jsx)("div",{children:(0,b.jsx)("button",{children:"save"})}),n&&(0,b.jsx)("div",{className:F.Z.formSummaryError,children:n}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Full name"}),": ",(0,j.Gr)("Full Name","fullName",j.II,[])]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Looking for a job"}),": ",(0,j.Gr)("","lookingForAJob",j.II,[],{type:"checkbox"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"My Prof. Skills"}),": ",(0,j.Gr)("My Prof. Skills","lookingForAJobDescription",j.gx,[])]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"About Me"}),": ",(0,j.Gr)("About Me","aboutMe",j.gx,[])]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(e){return(0,b.jsx)("div",{className:C,children:(0,b.jsxs)("b",{children:[e," : ",(0,j.Gr)(e,"contacts."+e,j.II,[]),"  "]})},e)}))]})]})})),O=function(e){var t=e.profile,s=e.isOwner,n=e.goToEditMode;return(0,b.jsxs)("div",{children:[s&&(0,b.jsx)("div",{children:(0,b.jsx)("button",{onClick:n,children:"edit"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"My Prof. Skills"}),": ",t.lookingForAJobDescription]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"About Me"}),": ",t.aboutMe]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return(0,b.jsx)(D,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},D=function(e){var t=e.contactTitle,s=e.contactValue;return(0,b.jsxs)("div",{className:C,children:[(0,b.jsx)("b",{children:t}),": ",s," "]})},U=function(e){var t=e.profile,s=e.status,n=e.updateStatus,r=e.isOwner,i=e.savePhoto,o=e.saveProfile,u=(0,a.useState)(!1),l=(0,_.Z)(u,2),c=l[0],d=l[1];if(!t)return(0,b.jsx)(A.Z,{});return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:w,children:[(0,b.jsx)("img",{src:t.photos.large||N,className:I}),r&&(0,b.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}}),c?(0,b.jsx)(T,{initialValues:t,profile:t,onSubmit:function(e){o(e).then((function(){d(!1)}))}}):(0,b.jsx)(O,{goToEditMode:function(){d(!0)},profile:t,isOwner:r}),(0,b.jsx)(M,{status:s,updateStatus:n})]})})},J=function(e){return(0,b.jsxs)("div",{children:[(0,b.jsx)(U,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),(0,b.jsx)(Z,{})]})},z=s(7689),G=s(2291),B=s(7781),E=function(e){(0,o.Z)(s,e);var t=(0,u.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.authorizedUserId),e||this.props.navigate("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.router.params.userId!=e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,b.jsx)(J,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(a.Component),L=function(e){return function(t){return(0,b.jsx)(e,(0,n.Z)((0,n.Z)({},t),{},{navigate:(0,z.s0)()}))}};var V=(0,B.qC)((0,l.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:c.et,getStatus:c.lR,updateStatus:c.Nf,savePhoto:c.Ju,saveProfile:c.Ii}),L,(function(e){return function(t){var s=(0,z.TH)(),r=(0,z.s0)(),i=(0,z.UO)();return(0,b.jsx)(e,(0,n.Z)((0,n.Z)({},t),{},{router:{location:s,navigate:r,params:i}}))}}),G.S)(E)},2291:function(e,t,s){s.d(t,{S:function(){return h}});var n=s(1413),r=s(5671),i=s(3144),o=s(136),u=s(516),a=s(2791),l=s(8687),c=s(184),d=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var t=function(t){(0,o.Z)(a,t);var s=(0,u.Z)(a);function a(){return(0,r.Z)(this,a),s.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return(0,c.jsx)(e,(0,n.Z)({},this.props))}}]),a}(a.Component);return(0,l.$j)(d)(t)}}}]);
//# sourceMappingURL=780.f86440b7.chunk.js.map